{"ast":null,"code":"import _objectSpread from \"C:\\\\TodoApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { TODO_ADD, TODO_SELECT, TODO_UPDATE, TODO_DELETE, TODO_COMPLETE } from \"./actionTypes\";\nimport { postTaskServer, updateTaskServer, deleteTaskServer } from \"../ServerCall\";\n\nconst newTask = () => {\n  return {\n    title: \"New task...\",\n    status: \"new\",\n    body: \"Add notes...\"\n  };\n};\n\nexport function fetchNewTaskR(items) {\n  // console.log('redux fetch new');  \n  return {\n    type: TODO_ADD,\n    payload: items\n  };\n}\nexport function addTaskR(items) {\n  // console.log('redux add'); \n  return function (dispatch) {\n    const nextItems = postTaskServer(newTask()).then(item => [...items, item]);\n    return dispatch(addTaskR(nextItems));\n  };\n}\nexport function selectTaskR(item) {\n  // console.log('redux select');   \n  return {\n    type: TODO_SELECT,\n    payload: item\n  };\n}\nexport function updateTaskR(items, item, title, body) {\n  // console.log('redux update'); \n  let copyOfItem = _objectSpread({}, item);\n\n  if (title !== undefined) {\n    copyOfItem.title = title;\n  }\n\n  if (body !== undefined) {\n    copyOfItem.body = body;\n  }\n\n  items[items.findIndex(obj => obj._id === copyOfItem._id)] = copyOfItem;\n  updateTaskServer(copyOfItem);\n  let nextItems = [...items];\n  return {\n    type: TODO_UPDATE,\n    payload: nextItems\n  };\n}\nexport function deleteTaskR(items, item) {\n  // console.log('redux delete'); \n  let nextItems = items.filter(i => i._id !== item._id);\n  deleteTaskServer(item);\n  return {\n    type: TODO_DELETE,\n    payload: nextItems\n  };\n}\nexport function completeTaskR(items, item) {\n  // console.log('redux complete');   \n  let copyOfItem = _objectSpread({}, item);\n\n  copyOfItem.status = \"completed\";\n  items[items.findIndex(obj => obj._id === copyOfItem._id)] = copyOfItem;\n  updateTaskServer(copyOfItem);\n  let nextItems = [...items];\n  return {\n    type: TODO_COMPLETE,\n    payload: nextItems\n  };\n}","map":{"version":3,"sources":["C:/TodoApp/src/redux/actions.js"],"names":["TODO_ADD","TODO_SELECT","TODO_UPDATE","TODO_DELETE","TODO_COMPLETE","postTaskServer","updateTaskServer","deleteTaskServer","newTask","title","status","body","fetchNewTaskR","items","type","payload","addTaskR","dispatch","nextItems","then","item","selectTaskR","updateTaskR","copyOfItem","undefined","findIndex","obj","_id","deleteTaskR","filter","i","completeTaskR"],"mappings":"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","sourcesContent":["import { TODO_ADD, TODO_SELECT, TODO_UPDATE, TODO_DELETE, TODO_COMPLETE } from \"./actionTypes\";\r\nimport {\r\n  postTaskServer,\r\n  updateTaskServer,\r\n  deleteTaskServer,\r\n} from \"../ServerCall\";\r\n\r\nconst newTask = () => {\r\n  return {\r\n    title: \"New task...\",\r\n    status: \"new\",\r\n    body: \"Add notes...\"\r\n  };\r\n};\r\n\r\nexport function fetchNewTaskR(items) {\r\n  // console.log('redux fetch new');  \r\n  return {type: TODO_ADD, payload: items};\r\n}\r\n\r\nexport function addTaskR(items) {\r\n  // console.log('redux add'); \r\n  return function (dispatch) {\r\n    const nextItems = postTaskServer(newTask()).then(item => [...items, item]);\r\n    return dispatch(addTaskR(nextItems));\r\n  } \r\n}\r\n\r\nexport function selectTaskR(item) {\r\n  // console.log('redux select');   \r\n  return {type: TODO_SELECT, payload: item}\r\n  }\r\n\r\nexport function updateTaskR(items, item, title, body) {\r\n  // console.log('redux update'); \r\n  let copyOfItem = { ...item };\r\n  if (title !== undefined) {\r\n    copyOfItem.title = title;\r\n  }\r\n  if (body !== undefined) {\r\n    copyOfItem.body = body;\r\n  }\r\n  items[items.findIndex(obj => obj._id === copyOfItem._id)] = copyOfItem;\r\n  updateTaskServer(copyOfItem);\r\n  let nextItems = [...items];  \r\n  return {type: TODO_UPDATE, payload: nextItems};\r\n  }\r\n\r\nexport function deleteTaskR(items, item) {\r\n  // console.log('redux delete'); \r\n  let nextItems = items.filter(i => i._id !== item._id);\r\n  deleteTaskServer(item);\r\n  return {type: TODO_DELETE, payload: nextItems}\r\n  }\r\n\r\nexport function completeTaskR(items, item) {\r\n  // console.log('redux complete');   \r\n  let copyOfItem = { ...item };\r\n  copyOfItem.status = \"completed\";\r\n  items[items.findIndex(obj => obj._id === copyOfItem._id)] = copyOfItem;\r\n  updateTaskServer(copyOfItem);\r\n  let nextItems = [...items];\r\n  return {type: TODO_COMPLETE, payload: nextItems}\r\n  }"]},"metadata":{},"sourceType":"module"}
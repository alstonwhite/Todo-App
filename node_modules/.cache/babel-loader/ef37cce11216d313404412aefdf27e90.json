{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\TodoApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\TodoApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\TodoApp\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport \"./styles.css\";\nimport store from './redux/store';\nimport TodoList from \"./components/TodoList\";\nimport TodoDetail from \"./components/TodoDetail\";\nimport { getTasksServer } from \"./ServerCall\";\nimport { updateTaskItem, addTaskItem, deleteTaskItem, completeTaskItem } from './state';\nimport { addTaskR, selectTaskR, updateTaskR, deleteTaskR, completeTaskR } from './redux/actions';\nexport default function App() {\n  // const [items, setItems] = useState(undefined);\n  // const [activeItem, setActiveItem] = useState(undefined);\n  const itemsR = useSelector(state => state.items);\n  const activeItemR = useSelector(state => state.activeItem);\n  const dispatch = useDispatch(); // const state = store.getState();\n\n  function addTask() {\n    return _addTask.apply(this, arguments);\n  }\n\n  function _addTask() {\n    _addTask = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            // const nextItems = await addTaskItem(items);\n            // setItems(nextItems);\n            dispatch(addTaskR(itemsR));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _addTask.apply(this, arguments);\n  }\n\n  function selectTask(item) {\n    // setActiveItem(item);\n    dispatch(selectTaskR(item));\n  }\n\n  function updateTask(item, title, body) {\n    // const nextItems = updateTaskItem(items, item, title, body);\n    // setActiveItem(nextItems.find(obj => obj._id === item._id));\n    // setItems(nextItems);\n    dispatch(updateTaskR(itemsR, item, title, body));\n    dispatch(selectTaskR(itemsR.find(obj => obj._id === item._id)));\n  }\n\n  function deleteTask(item) {\n    // const nextItems = deleteTaskItem(items, item);\n    // setItems(nextItems);\n    // setActiveItem(nextItems[0]);\n    dispatch(deleteTaskR(itemsR, item));\n    dispatch(selectTaskR(itemsR[0]));\n  }\n\n  function completeTask(item) {\n    // const nextItems = completeTaskItem(items, item)\n    // setItems(nextItems);\n    dispatch(completeTaskR(itemsR, item));\n  }\n\n  useEffect(() => {\n    getTasksServer().then(tasks => {\n      // setItems(tasks);\n      dispatch(updateTaskR(tasks)); // setActiveItem(tasks[0]);\n\n      dispatch(selectTaskR(tasks[0]));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TodoList // items={items}\n  , {\n    items: itemsR,\n    onAdd: addTask,\n    onSelect: selectTask,\n    onDelete: deleteTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TodoDetail // active={activeItem}\n  , {\n    active: activeItemR,\n    onUpdateTask: updateTask,\n    onComplete: completeTask,\n    onDelete: deleteTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/TodoApp/src/App.js"],"names":["React","useState","useEffect","useSelector","useDispatch","store","TodoList","TodoDetail","getTasksServer","updateTaskItem","addTaskItem","deleteTaskItem","completeTaskItem","addTaskR","selectTaskR","updateTaskR","deleteTaskR","completeTaskR","App","itemsR","state","items","activeItemR","activeItem","dispatch","addTask","selectTask","item","updateTask","title","body","find","obj","_id","deleteTask","completeTask","then","tasks"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport \"./styles.css\";\n\nimport store from './redux/store'\nimport TodoList from \"./components/TodoList\";\nimport TodoDetail from \"./components/TodoDetail\";\nimport {getTasksServer} from \"./ServerCall\";\nimport {updateTaskItem, addTaskItem, deleteTaskItem, completeTaskItem} from './state';\nimport {addTaskR, selectTaskR, updateTaskR, deleteTaskR, completeTaskR} from './redux/actions';\n\nexport default function App() {\n  // const [items, setItems] = useState(undefined);\n  // const [activeItem, setActiveItem] = useState(undefined);\n  const itemsR = useSelector(state => state.items);\n  const activeItemR = useSelector(state => state.activeItem);\n  const dispatch = useDispatch();\n  // const state = store.getState();\n\n  async function addTask() {\n    // const nextItems = await addTaskItem(items);\n    // setItems(nextItems);\n    dispatch(addTaskR(itemsR));\n  }\n\n  function selectTask(item) {\n    // setActiveItem(item);\n    dispatch(selectTaskR(item));\n  }\n\n  function updateTask(item, title, body) {\n    // const nextItems = updateTaskItem(items, item, title, body);\n    // setActiveItem(nextItems.find(obj => obj._id === item._id));\n    // setItems(nextItems);\n    dispatch(updateTaskR(itemsR, item, title, body));\n    dispatch(selectTaskR(itemsR.find(obj => obj._id === item._id)));\n  }\n\n  function deleteTask(item) {\n    // const nextItems = deleteTaskItem(items, item);\n    // setItems(nextItems);\n    // setActiveItem(nextItems[0]);\n    dispatch(deleteTaskR(itemsR, item));\n    dispatch(selectTaskR(itemsR[0]));\n  }\n\n  function completeTask(item) {\n    // const nextItems = completeTaskItem(items, item)\n    // setItems(nextItems);\n    dispatch(completeTaskR(itemsR, item));\n  }\n\n  useEffect(() => {\n      getTasksServer().then(tasks => {\n        // setItems(tasks);\n        dispatch(updateTaskR(tasks));\n        // setActiveItem(tasks[0]);\n        dispatch(selectTaskR(tasks[0])); \n      });\n    }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <TodoList\n        // items={items}\n        items={itemsR}\n        onAdd={addTask}\n        onSelect={selectTask}\n        onDelete={deleteTask}\n      />\n      <TodoDetail\n        // active={activeItem}\n        active={activeItemR}\n        onUpdateTask={updateTask}\n        onComplete={completeTask}\n        onDelete={deleteTask}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}